<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Plot importance of interactions or pairs — plot.interactions • EIX</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top navbar-mi2" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class = "navbar-mi2logo" href="http://mi2.mini.pw.edu.pl/">
        <img src = "https://github.com/mi2-warsaw/MI2template/blob/master/inst/pkgdown/assets/MI2logo.jpg?raw=true" alt = "MI2" height = 46 title = "MI2">
	  </a>
      <a class="navbar-brand navbar-mi2" href="../index.html">Plot importance of interactions or pairs</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="navbar-mi2 nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/EIX.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/titanic_data.html">EIX: Titanic data </a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ModelOriented/EIX">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot importance of interactions or pairs</h1>
    </div>

    
    <p>This function plots the importance ranking of interactions and pairs in the model.</p>
    

    <pre class="usage"><span class='co'># S3 method for interactions</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='no'>x</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>a result from the <code>interactions</code> function.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>other parameters.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a ggplot object</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>NOTE: Be careful use of this function with <code>option="pairs"</code> parameter,
      because high gain of pair can be a result of high gain of child variable.
     As strong interactions should be considered only these pairs of variables,
     where variable on the bottom (child) has higher gain than variable on the top (parent).</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='st'>"EIX"</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='st'>"Matrix"</span>)
<span class='no'>sm</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/Matrix/topics/sparse.model.matrix'>sparse.model.matrix</a></span>(<span class='no'>left</span> ~ <span class='no'>.</span> - <span class='fl'>1</span>,  <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>HR_data</span>)

<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='st'>"xgboost"</span>)
<span class='no'>param</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(<span class='kw'>objective</span> <span class='kw'>=</span> <span class='st'>"binary:logistic"</span>, <span class='kw'>max_depth</span> <span class='kw'>=</span> <span class='fl'>2</span>)
<span class='no'>xgb_model</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/xgboost/topics/xgb.train'>xgboost</a></span>(<span class='no'>sm</span>, <span class='kw'>params</span> <span class='kw'>=</span> <span class='no'>param</span>, <span class='kw'>label</span> <span class='kw'>=</span> <span class='no'>HR_data</span>[, <span class='no'>left</span>] <span class='kw'>==</span> <span class='fl'>1</span>, <span class='kw'>nrounds</span> <span class='kw'>=</span> <span class='fl'>25</span>, <span class='kw'>verbose</span><span class='kw'>=</span><span class='fl'>0</span>)

<span class='no'>inter</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='interactions.html'>interactions</a></span>(<span class='no'>xgb_model</span>, <span class='no'>sm</span>,            <span class='kw'>option</span> <span class='kw'>=</span> <span class='st'>"interactions"</span>)
<span class='no'>inter</span></div><div class='output co'>#&gt;                   Parent                Child   sumGain frequency
#&gt;  1:      last_evaluation average_montly_hours 702.05170         1
#&gt;  2:      last_evaluation   time_spend_company 564.30090         1
#&gt;  3:      last_evaluation   satisfaction_level 502.90195         1
#&gt;  4:      last_evaluation       number_project 390.18976         1
#&gt;  5:   satisfaction_level   time_spend_company 332.18097         1
#&gt;  6: average_montly_hours   time_spend_company 262.55286         1
#&gt;  7: average_montly_hours      last_evaluation 249.13687         1
#&gt;  8:   satisfaction_level average_montly_hours 168.38992         1
#&gt;  9:   satisfaction_level       number_project  87.09535         1
#&gt; 10:   time_spend_company      last_evaluation  86.27449         1</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='no'>inter</span>)</div><div class='img'><img src='plot.interactions-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='no'>inter</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='interactions.html'>interactions</a></span>(<span class='no'>xgb_model</span>, <span class='no'>sm</span>,            <span class='kw'>option</span> <span class='kw'>=</span> <span class='st'>"pairs"</span>)
<span class='no'>inter</span></div><div class='output co'>#&gt;                   Parent                Child     sumGain frequency
#&gt;  1:   satisfaction_level       number_project 3573.869457         6
#&gt;  2:   satisfaction_level   time_spend_company 3193.349916         4
#&gt;  3:   satisfaction_level   satisfaction_level  820.880741         4
#&gt;  4:      last_evaluation average_montly_hours  767.932007         2
#&gt;  5:      last_evaluation   satisfaction_level  616.821671         2
#&gt;  6:      last_evaluation   time_spend_company  581.206291         2
#&gt;  7:   time_spend_company   time_spend_company  404.105011         2
#&gt;  8:      last_evaluation       number_project  399.432373         3
#&gt;  9: average_montly_hours   time_spend_company  262.552856         1
#&gt; 10: average_montly_hours      last_evaluation  249.136871         1
#&gt; 11:   satisfaction_level average_montly_hours  168.389923         1
#&gt; 12: average_montly_hours   satisfaction_level  139.267471         1
#&gt; 13:      last_evaluation      last_evaluation  125.887398         1
#&gt; 14:        Work_accident       number_project  119.155579         1
#&gt; 15: average_montly_hours average_montly_hours  102.814651         1
#&gt; 16:   time_spend_company      last_evaluation   86.274490         1
#&gt; 17:            salarylow   time_spend_company   80.271004         1
#&gt; 18:        Work_accident   time_spend_company   54.700195         1
#&gt; 19:            salarylow         salarymedium   45.284599         1
#&gt; 20:   time_spend_company   satisfaction_level   16.250031         1
#&gt; 21:   time_spend_company       number_project   15.200378         1
#&gt; 22: average_montly_hours       number_project   14.579918         2
#&gt; 23:        Work_accident   satisfaction_level   12.788223         1
#&gt; 24:        Work_accident      last_evaluation    6.214535         1
#&gt;                   Parent                Child     sumGain frequency</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='no'>inter</span>)</div><div class='img'><img src='plot.interactions-2.png' alt='' width='700' height='433' /></div><div class='input'>
</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='no'>lightgbm</span>)
<span class='no'>train_data</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/lightgbm/topics/lgb.Dataset'>lgb.Dataset</a></span>(<span class='no'>sm</span>, <span class='kw'>label</span> <span class='kw'>=</span>  <span class='no'>HR_data</span>[, <span class='no'>left</span>] <span class='kw'>==</span> <span class='fl'>1</span>)
<span class='no'>params</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(<span class='kw'>objective</span> <span class='kw'>=</span> <span class='st'>"binary"</span>, <span class='kw'>max_depth</span> <span class='kw'>=</span> <span class='fl'>2</span>)
<span class='no'>lgb_model</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/lightgbm/topics/lgb.train'>lgb.train</a></span>(<span class='no'>params</span>, <span class='no'>train_data</span>, <span class='fl'>25</span>)

<span class='no'>inter</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='interactions.html'>interactions</a></span>(<span class='no'>lgb_model</span>, <span class='no'>sm</span>,            <span class='kw'>option</span> <span class='kw'>=</span> <span class='st'>"interactions"</span>)
<span class='no'>inter</span></div><div class='output co'>#&gt;                Parent                Child   sumGain frequency
#&gt; 1: satisfaction_level   time_spend_company 2434.0047         3
#&gt; 2:    last_evaluation average_montly_hours  658.0106         1
#&gt; 3:    last_evaluation   satisfaction_level  539.9527         1
#&gt; 4: time_spend_company      last_evaluation  341.3317         1</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='no'>inter</span>)</div><div class='img'><img src='plot.interactions-3.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='no'>inter</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='interactions.html'>interactions</a></span>(<span class='no'>lgb_model</span>, <span class='no'>sm</span>,            <span class='kw'>option</span> <span class='kw'>=</span> <span class='st'>"pairs"</span>)
<span class='no'>inter</span></div><div class='output co'>#&gt;                Parent                Child    sumGain frequency
#&gt; 1: satisfaction_level       number_project 9845.23985        21
#&gt; 2: satisfaction_level   time_spend_company 8170.39149        10
#&gt; 3: satisfaction_level   satisfaction_level 1465.36041         2
#&gt; 4:    last_evaluation average_montly_hours  658.01062         1
#&gt; 5: time_spend_company      last_evaluation  612.09506         2
#&gt; 6:    last_evaluation   satisfaction_level  539.95270         1
#&gt; 7: time_spend_company   time_spend_company  489.65636         2
#&gt; 8: satisfaction_level      last_evaluation  251.51668         7
#&gt; 9: time_spend_company       number_project   55.00172         4</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='no'>inter</span>)</div><div class='img'><img src='plot.interactions-4.png' alt='' width='700' height='433' /></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Ewelina Karbowiak, Przemyslaw Biecek.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>

